<!DOCTYPE html>
<html>
<head>
    <head>
        <meta charset="utf-8">
        <!-- Web Experience Toolkit (WET) / Boîte à outils de l'expérience Web (BOEW) wet-boew.github.io/wet-boew/License-en.html / wet-boew.github.io/wet-boew/Licence-fr.html -->
        <title>Feedback on pages: trends and analysis</title>
        <meta content="width=device-width,initial-scale=1" name="viewport">
        <!-- Meta data -->
        <meta name="description" content="Experimental web readability score">
        <!-- Meta data-->
        <!-- Load closure template scripts -->
        <script src="https://www.canada.ca/etc/designs/canada/cdts/gcweb/v4_0_30/cdts/compiled/soyutils.js"></script>
        <script src="https://www.canada.ca/etc/designs/canada/cdts/gcweb/v4_0_30/cdts/compiled/wet-en.js"></script>
        <noscript>
           <!-- Write closure fall-back static file -->
           <!-- /ROOT/app/cls/WET/gcweb/v4_0_30/cdts/static/refTop.html -->
           <!--[if gte IE 9 | !IE ]><!-->
           <link href="https://www.canada.ca/etc/designs/canada/cdts/gcweb/v4_0_30/assets/favicon.ico" rel="icon"
              type="image/x-icon">
              <link rel="stylesheet" href="https://wet-boew.github.io/themes-dist/GCWeb/GCWeb/css/theme.min.css" />
           <link rel="stylesheet" href="https://www.canada.ca/etc/designs/canada/cdts/gcweb/v4_0_30/cdts/cdtsfixes.css">
           <link href="https://test.canada.ca/covid-19-guidance/proto/css/alpha-beta-banner.css" rel="stylesheet">
           <!-- Are you using the application templates? If so add the following CSS file -->
           <!-- <link rel="stylesheet" href="https://www.canada.ca/etc/designs/canada/cdts/gcweb/v4_0_30/cdts/cdtsapps.css">-->
           <!--<![endif]-->
           <!--[if lt IE 9]>
              <link href="https://www.canada.ca/etc/designs/canada/cdts/gcweb/v4_0_30/assets/favicon.ico" rel="shortcut icon" />
              <link rel="stylesheet" href="https://www.canada.ca/etc/designs/canada/cdts/gcweb/v4_0_30/css/ie8-theme.min.css" />
              <![endif]-->
           <!--[if lte IE 9]><![endif]-->
           <link rel="stylesheet" href="https://www.canada.ca/etc/designs/canada/cdts/gcweb/v4_0_30/css/noscript.min.css" />
           <link rel="stylesheet" href="https://www.canada.ca/etc/designs/canada/cdts/gcweb/v4_0_30/cdts/cdtsnoscript.css" />
        </noscript>
        <script>
           document.write(wet.builder.refTop({
     
              "isApplication": true
           }));
        </script>
        <!-- Write closure template -->
        <script type="text/javascript">
           document.write(wet.builder.refTop({
           }));
        </script>
        <style>
            .left-col {
                float: left;
                width: 10%; /* adjust this as needed */
            }
            .left-col button {
                display: block;
                width: 100%;
                margin-bottom: 10px; /* space between buttons */
                clear: both; /* add this line */
            }
            .content {
                float: right;
                width: 75%; /* adjust this as needed */
            }
            /* Tab links */
            .tablink {
                background-color: #555;
                color: white;
                float: left;
                border: none;
                outline: none;
                cursor: pointer;
                padding: 14px 16px;
                font-size: 17px;
                width: 33.33%;
            }
        
            /* Style the tab content (and add height if you want to fill the whole page): */
            .tabcontent {
                display: none;
                padding: 20px 12px;
                border: 1px solid #ccc;
                border-top: none;
            }

            .table td:not(.date-cell) {
                overflow-wrap: break-word;
                word-wrap: break-word;
                word-break: break-all;
                hyphens: auto;
            }
        </style>
        
     </head>
     
     <body vocab="http://schema.org/" typeof="WebPage">
        <section class="experimental alpha-top">
           <h2 class="wb-inv">Alpha</h2>
           <div>
              <small><label class="alpha-label">Alpha</label>&nbsp;&nbsp;
                 This is an experimental version of Canada.ca for public testing.</small>
           </div>
        </section>
        <div id="def-top">
           <!-- Write closure fall-back static file -->
           <!-- /ROOT/app/cls/WET/gcweb/v4_0_30/cdts/static/appTop-en.html -->
           <ul id="wb-tphp">
              <li class="wb-slc"><a class="wb-sl" href="#wb-cont">Skip to main content</a></li>
              <li class="wb-slc visible-sm visible-md visible-lg"><a class="wb-sl" href="#wb-info">Skip to "About this Web
                    application"</a></li>
              <!-- If you have a custom footer, replace the previous line with this one
                    <li class="wb-slc visible-sm visible-md visible-lg"><a class="wb-sl" href="#wb-info">Skip to "Related links"</a></li>
                    -->
              <!-- If you have a section menu
                    <li class="wb-slc visible-md visible-lg"><a class="wb-sl" href="#wb-sec">Skip to section menu</a></li>
                    -->
           </ul>
           <header class="gc-app">
              <div id="wb-bnr">
                 <!-- Adjust the default language flip URL or remove this <section>
                       <section id="wb-lng" class="text-right">
                           <h2 class="wb-inv">Language selection</h2>
                           <ul class="list-inline margin-bottom-none">
                               <li><a lang="fr" href="[Default URL for language flip]">Français</a></li>
                           </ul>
                       </section>
                           -->
                 <div class="row">
                    <div class="brand col-xs-5 col-md-4">
                       <a href="https://www.canada.ca/en.html">
                          <img src="https://www.canada.ca/etc/designs/canada/cdts/gcweb/v4_0_30/assets/sig-blk-en.svg"
                             alt="" />
                          <span class="wb-inv"> Government of Canada / <span lang="fr">Gouvernement du Canada</span></span>
                       </a>
                    </div>
                    <!-- Adjust this search section depending on your application search
                          <section id="wb-srch" class="col-lg-8 text-right visible-md visible-lg">
                              <h2>Search</h2>
                              <form action="#" method="post" name="cse-search-box" role="search" class="form-inline">
                                  <div class="form-group">
                                      <label for="wb-srch-q" class="wb-inv">Search Canada.ca</label>
                                      <input id="wb-srch-q" list="wb-srch-q-ac" class="wb-srch-q form-control" name="q" type="search" value="" size="34" maxlength="170" placeholder="Search">
                                  </div>
                                  <div class="form-group submit">
                                      <button type="submit" id="wb-srch-sub" class="btn btn-primary btn-small" name="wb-srch-sub"><span class="glyphicon-search glyphicon"></span><span class="wb-inv">Search</span></button>
                                  </div>
                              </form>
                          </section>
                          -->
                 </div>
              </div>
              <div class="app-bar">
                 <div>
                    <div class="row">
                       <!-- If you want to use the settings or sign in/out buttons then add col-sm-7 -->
                       <section class="col-xs-12">
                          <!-- Add in your application name and URL below -->
                          <h2 class="wb-inv">Feedback on pages: trends and analysis</h2>
                          <a class="app-name" href=#>Feedback on pages: trends and analysis</a>
                       </section>
                       <!-- If you want to use the settings or sign in/out buttons
                             <nav class="col-sm-5 hidden-xs hidden-print">
                                 <h2 class="wb-inv">Account menu</h2>
                                 <ul class="app-list-account list-unstyled">
                                     <li><a href="#" class="btn"><span class="glyphicon glyphicon-cog" aria-hidden="true"></span> Account settings</a></li>&#32;
                                     <li><a href="#" class="btn"><span class="glyphicon glyphicon-off" aria-hidden="true"></span> Sign out</a></li>
                                     <li><a href="#" class="btn"><span class="glyphicon glyphicon-off" aria-hidden="true"></span> Sign in</a></li>
                                 </ul>
                             </nav>
                             -->
                    </div>
                 </div>
              </div>
              <!-- Remove the whole <nav> if you want to disable breadcrumbs
                    <nav id="wb-bc" property="breadcrumb">
                        <h2>You are here:</h2>
                        <div class="container">
                            <div class="row">
                                <ol class="breadcrumb">
                                    <li><a href="#">[Insert breadcrumbs]</a></li>
                                </ol>
                            </div>
                        </div>
                    </nav>
                    -->
           </header>
        </div>
        <!-- Write closure template -->
        <script>
           var defTop = document.getElementById("def-top");
           defTop.outerHTML = wet.builder.appTop({
     
              "appName": [{ "text": "IRCC Data Hub", "href": "#" }],
              "lngLinks": [{ "lang": "fr", "href": "#", "text": "Français" }]
           });
        </script>
       <main property="mainContentOfPage">
        <h1>IRCC Data Hub</h1>

        <div class="row">
            <div class="col-sm-2" id="topics">
                {% for topic in topics %}
                    <div>
                        <button class="btn btn-default" onclick="loadData('{{ topic }}')">{{ topic }}</button>
                    </div>
                {% endfor %}
            </div>
            <div class="col-sm-10">
                <h2 id="topic-name"></h2>
                <button class="tablink" id="feedbackToolButton" onclick="openTab('Feedback', this)">Feedback tool</button>
                <button class="tablink" onclick="openTab('Analytics', this)">Analytics</button>
                <button class="tablink" onclick="openTab('CallCenter', this)">Call center</button>

                <div id="Feedback" class="tabcontent">
                    <div class="col-sm-6" id="table">
                    <h3>Feedback for {{ topic }}</h3>

                    <img id="plot" src="" alt="Plot of comments per day">

                    <table class="table table-striped" id="feedback-table">
                        <caption>Feedback by date</caption>
                        <thead>
                        <tr>
                            <th>Date</th>
                            <th>Comment</th>
                            <th>URL</th>
                        </tr>
                    </thead>
                    </table>
                    <p id="no-comments" style="display: none;">No comments</p>
                
                </div>
                    <div class="col-sm-6" id="stats">
                        <h3>English word cloud</h3>
                        <img id="wordcloud-en" src="" alt="Word cloud for English comments">
                        
                        <h3>French word cloud</h3>
                        <img id="wordcloud-fr" src="" alt="Word cloud for French comments">

                        <h3>Average sentiment per week</h3>
                        <img id="sentiment-plot" src="" alt="Plot of average sentiment per week">

                    </div>


                    

                </div>

                <div id="Analytics" class="tabcontent">
                    <p>Coming soon</p>
                </div>

                <div id="CallCenter" class="tabcontent">
                    <p>Coming soon</p>
                </div>
            </div>


        </div>
    </main>


<script src="{{ url_for('static', filename='dashboard.js') }}"></script>
<script>
    // Simulate a click event on the "Feedback tool" tab
    document.getElementById('feedbackToolButton').click();
</script>
</body>
</html>
